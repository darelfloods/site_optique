<!DOCTYPE html>
<html lang="fr-FR">
<head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WJHWP6ZV');</script>
<!-- End Google Tag Manager -->
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BH63WG5MZ1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BH63WG5MZ1');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <title>Nom du Produit | OpticShop241</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/product.css">
    <link rel="preload" href="js/product.js" as="script">
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WJHWP6ZV"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <!-- Navbar (identique aux autres pages) -->
    <nav aria-label="Navigation principale">
        <!-- ... -->
    </nav>

    <main class="product-page">
        <!-- Fil d'Ariane -->
        <nav class="breadcrumb" aria-label="Fil d'Ariane">
            <ol>
                <li><a href="index.html">Accueil</a></li>
                <li><a href="catalogue.html">Catalogue</a></li>
                <li><span id="product-category">Solaires</span></li>
                <li aria-current="page"><span id="product-name">Nom du Produit</span></li>
            </ol>
        </nav>

        <div class="product-container">
            <!-- Galerie d'images -->
            <section class="product-gallery" aria-label="Galerie du produit">
                <div class="main-image">
                    <img id="main-image" src="" alt="" loading="eager">
                    <div class="badges">
                        <span class="badge new" id="new-badge">Nouveau</span>
                        <span class="badge bestseller" id="bestseller-badge">Best-seller</span>
                    </div>
                </div>
                <div class="thumbnails" id="thumbnails">
                    <!-- Généré dynamiquement -->
                </div>
            </section>

            <!-- Détails du produit -->
            <section class="product-details" aria-label="Détails du produit">
                <h1 id="product-title">Nom du Produit</h1>
                
                <div class="product-meta">
                    <div class="rating">
                        <div class="stars" id="product-rating">
                            <!-- Généré dynamiquement -->
                        </div>
                        <a href="#reviews" class="review-count" id="review-count">(0 avis)</a>
                    </div>
                    <div class="stock" id="stock-status">En stock</div>
                </div>

                <div class="price-container">
                    <span class="current-price" id="current-price">0 FCFA</span>
                    <span class="old-price" id="old-price"></span>
                </div>

                <div class="product-description" id="product-description">
                    <!-- Généré dynamiquement -->
                </div>

                <!-- Sélection des options -->
                <form class="product-options" id="product-options">
                    <div class="option-group">
                        <label for="lens-type">Type de verres :</label>
                        <select id="lens-type" required>
                            <option value="">Choisissez...</option>
                            <option value="standard">Standard (inclus)</option>
                            <option value="anti-reflet">Anti-reflet (+5 000 FCFA)</option>
                            <option value="polarise">Polarisé (+10 000 FCFA)</option>
                            <option value="progressif">Progressif (+25 000 FCFA)</option>
                        </select>
                    </div>

                    <div class="option-group">
                        <label>Couleur disponible :</label>
                        <div class="color-options" id="color-options">
                            <!-- Généré dynamiquement -->
                        </div>
                    </div>

                    <div class="option-group">
                        <label for="quantity">Quantité :</label>
                        <div class="quantity-selector">
                            <button type="button" class="quantity-btn" data-action="decrease">-</button>
                            <input type="number" id="quantity" min="1" value="1" max="10">
                            <button type="button" class="quantity-btn" data-action="increase">+</button>
                        </div>
                    </div>

                    <div class="product-actions">
                        <button type="submit" class="btn-primary add-to-cart" id="add-to-cart">
                            Ajouter au panier
                        </button>
                        <button type="button" class="btn-outline add-to-fav" id="add-to-fav">
                            Ajouter aux favoris
                        </button>
                        <a href="https://wa.me/+241074430170" class="btn-whatsapp" target="_blank">
                            Commander via WhatsApp
                        </a>
                    </div>
                    
                </form>

                <!-- Livraison et retours -->
                <div class="delivery-info">
                    <div class="info-item">
                        <i class="fas fa-truck"></i>
                        <span>Livraison express sous 48h</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-undo"></i>
                        <span>Retours gratuits sous 14 jours</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-shield-alt"></i>
                        <span>Garantie 2 ans</span>
                    </div>
                </div>
            </section>
        </div>
        <!-- Après la galerie d'images -->
        <section class="virtual-tryon" aria-label="Essai virtuel">
            <h2>Essayez virtuellement</h2>
            <div class="tryon-container">
                <div class="webgl-viewer" id="webgl-container">
                    <!-- Canvas sera inséré ici par Three.js -->
                    <div class="loading-overlay">
                        <div class="spinner"></div>
                        <p>Chargement de l'essai virtuel...</p>
                    </div>
                </div>
                <div class="tryon-controls">
                    <button id="start-camera" class="btn-primary">
                        <i class="fas fa-camera"></i> Activer la caméra
                    </button>
                    <div class="adjustment-controls">
                        <label for="glasses-position">Position :</label>
                        <input type="range" id="glasses-position" min="-50" max="50" value="0">
        
                        <label for="glasses-size">Taille :</label>
                        <input type="range" id="glasses-size" min="80" max="120" value="100">
        
                        <button id="reset-position" class="btn-outline">
                            <i class="fas fa-undo"></i> Réinitialiser
                        </button>
                    </div>
                    <div class="tryon-instructions">
                        <p><i class="fas fa-lightbulb"></i> Conseil : Placez-vous dans un endroit bien éclairé</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Section avis existante - Remplacer par -->
        <section class="reviews-section" id="reviews" aria-label="Avis clients">
            <div class="reviews-header">
                <h2>Avis clients</h2>
                <button id="add-review-btn" class="btn-outline">
                    <i class="fas fa-pen"></i> Ajouter un avis
                </button>
            </div>
        
            <div class="reviews-stats">
                <div class="overall-rating">
                    <span class="average-rating" id="average-rating">4.8</span>
                    <div class="stars">★★★★★</div>
                    <span class="total-reviews">sur 42 avis</span>
                </div>
                <div class="rating-bars">
                    <!-- Généré dynamiquement -->
                </div>
            </div>
        
            <div class="review-form-container" id="review-form-container">
                <form id="review-form">
                    <h3>Donnez votre avis</h3>
                    <div class="form-group">
                        <label for="review-rating">Note :</label>
                        <div class="star-rating">
                            <input type="radio" id="star5" name="rating" value="5">
                            <label for="star5">★</label>
                            <input type="radio" id="star4" name="rating" value="4">
                            <label for="star4">★</label>
                            <input type="radio" id="star3" name="rating" value="3">
                            <label for="star3">★</label>
                            <input type="radio" id="star2" name="rating" value="2">
                            <label for="star2">★</label>
                            <input type="radio" id="star1" name="rating" value="1">
                            <label for="star1">★</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="review-name">Nom :</label>
                        <input type="text" id="review-name" required>
                    </div>
                    <div class="form-group">
                        <label for="review-text">Avis :</label>
                        <textarea id="review-text" rows="4" required></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Envoyer l'avis</button>
                </form>
            </div>
        
            <div class="reviews-container" id="reviews-container">
                <!-- Avis chargés dynamiquement -->
            </div>
        
            <div class="pagination">
                <button id="prev-reviews" disabled><i class="fas fa-chevron-left"></i></button>
                <span id="page-indicator">Page 1/3</span>
                <button id="next-reviews"><i class="fas fa-chevron-right"></i></button>
            </div>
        </section>

        <!-- Détails techniques -->
        <section class="specs-section" aria-label="Caractéristiques techniques">
            <h2>Caractéristiques techniques</h2>
            <div class="specs-grid" id="specs-grid">
                <!-- Généré dynamiquement -->
            </div>
        </section>

        <!-- Avis clients -->
        <section class="reviews-section" id="reviews" aria-label="Avis clients">
            <h2>Avis clients</h2>
            <div class="reviews-container" id="reviews-container">
                <!-- Généré dynamiquement -->
            </div>
            <button class="btn-outline" id="load-more-reviews">Charger plus d'avis</button>
        </section>

        <!-- Produits similaires -->
        <section class="related-products" aria-label="Produits similaires">
            <h2>Vous aimerez aussi</h2>
            <div class="products-grid" id="related-products">
                <!-- Généré dynamiquement -->
            </div>
        </section>
        
    </main>

    <!-- Footer (identique aux autres pages) -->
    <footer>
        <div class="footer-grid">
            <div class="footer-col">
                <h3>OpticShop241</h3>
                <p>Votre opticarien de confiance depuis 2015</p>
            </div>
            <div class="footer-col">
                <h3>Contact</h3>
                <address>
                    <p>Libreville, Gabon</p>
                    <p>Email: contact@opticshop241.com</p>
                    <p>Tél: +241 77 23 23 23</p>
                </address>
            </div>
            <div class="footer-col">
                <h3>Services</h3>
                <ul>
                    <li><a href="#">Livraison express</a></li>
                    <li><a href="#">Essai virtuel</a></li>
                    <li><a href="#">Conseils experts</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2024 OpticShop241 - Tous droits réservés</p>
        </div>
    </footer>

    <script src="js/utilities.js"></script>
    <script src="js/product.js"></script>
</body>
</html>
